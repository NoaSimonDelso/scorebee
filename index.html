<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Scorecard demo</title>
<link rel="stylesheet" type="text/css" href="dc.css"/>

<!-- Jquery mobile css and js -->
<link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>

<!-- Our styles -->
<link rel="stylesheet" type="text/css" href="style.css"/>

</head>
<body>

<script type="text/javascript" src="js/d3.v3.js"></script>
<script type="text/javascript" src="js/crossfilter.js"></script>
<script type="text/javascript" src="js/dc.js"></script>
<script src="scorecard.js"></script>
<!--script type="text/javascript" src="../../src/data-grid.js"></script-->
<script type="text/javascript" src="js/underscore-min.js"></script>
<!--script type="text/javascript" src="queue.v1.min.js"></script-->

<script src="jquery.min.js"></script>
<script src="jquery.lazyload.js"></script>

<script>

var eu_groups = {
"GUE/NGL":"#df73be",
"S&D":"#ec2335",
"Verts/ALE":"#67bd1b",
"ALDE":"#f1cb01",
"EFD":"#60c0e2",
"PPE":"blue",
"EPP":"blue",
"ECR":"darkblue",
"NA/NI":"grey",
"Array":"pink"
};

var topic_climate = {
  "title": "Does your MEP care about the climate?",
  "description": "We collected the main topics...",
  "link": "",
  "logo": "",
  "limits": [
  {"upper": 20,  "text": " is a climate killer.", "color": "red"},
  {"upper": 40,  "text": " has voted against climate policies.", "color" : "orange" }, 
  {"upper": 60,  "text": " is not really decided on the climate.", "color": "yellow"},
  {"upper": 90,  "text": " is rather climate-friendly.",        "color": "palegreen"},
  {"upper": 100, "text": " is a climate champion.",               "color": "lightgreen"} 
  ],
    "order": 1,
    "name":"climate",
    "weight": 1,
};

var climate_votes = [
{
  "id": "B7-0482/2013|§ 8 - AM 6D",
    "dbid": 4995,
    "weight": 1,
    "date":"2013-04-05",
    "title": "An EU greenhouse gas reduction target of 50% by 2030",
    "description": "To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.",
    "recommendation": -1,
},
{
  "id": "B7-0482/2013 - Am 12/1",
  "dbid": 5004,
  "weight": 0.5,
    "date":"2013-04-06",
  "title": "Phasing out fossil fuel subsidies",
  "description": "Subsidies still support fossil fuels. Money used to support these polluting fuels could be used to support climate  action.",
  "recommendation": 1,
},
{
  "id": "A7-0046/2013 - Matthias Groote - Amended proposal",
  "dbid": 5276,
  "weight": 0.8,
  "date":"2013-04-06",
  "title": "Back-loading' the Emissions Trading System",
  "description": "The EU carbon market has been sorely in need of reform for many years now - an agreement to temporarily withhold allowances was a small step in the right direction.",
  "recommendation": 1,
},
{
  "id": "A7-0135/2013 - Herbert Reul - Am 1/1",
  "dbid": 4096,
  "weight": 0.5,
  "date":"2013-04-09",
   "title": "Increasing European renewable energy supply",
  "description": "Increasing the share of renewables is crucial in the transition to a low-carbon future. Ambitious targets are needed to secure this as a policy.",
  "recommendation": 1,
},
{
  "id": "A7-0035/2013 - Niki Tzavela - Am 1",
  "dbid": 3939,
  "weight": 0.8,
  "date":"2013-04-10",
  "title": "3 Binding Targets on the EU 2050 Roadmap",
  "description": "NGO's have called for <a href='http://www.foeeurope.org/2030-climate-plan'>3 binding targets</a> on renewable energy, emissions reductions and energy saving measures. It is essential that the agreements are legally binding so that member states cannot escape from their responsibilities.",
  "recommendation": 1,
},
{
  "id": "A7-0191/2012 - Bas Eickhout - Legislative resolution",
  "dbid": 3708,
  "weight": 1,
  "date":"2012-09-01",
  "title": "Reporting greenhouse gas emissions across Europe",
  "description": "In order to reduce greenhoues gas emissions across Europe, there must be firm standards for carbon accounting.",
  "recommendation": 1,
},
{
  "id": "A7-0265/2012 - Claude Turmes - Single vote",
  "dbid": 3082,
  "weight": 0.4,
  "date":"2012-09-02",
  "title": "Measures to reduce energy consumption",
  "description": "Reducing energy consumption is a very effective and cheap way to reduce greenhouse gas emissions along with other benefits.",
  "recommendation": 1,
},
{
  "id": "A7-0033/2012 - Chris Davies - Am 1/2",
  "dbid": 2636,
  "weight": 0.8,
  "date":"2012-09-03",
  "title": "Increasing 2020 emissions reductions targets to 30%",
  "description": "The EU's 2020 climate targets <a href='http://www.sandbag.org.uk/blog/2013/dec/9/eus-2020-targets-allow-massive-growth-emissions-em'>allows emissions to grow!</a> The targets need to be accordingly more ambitious to take into account current progress.",
  "recommendation": 1,
},
{
  "id": "B7-0571/2011 - § 38",
  "dbid": 2340,
  "weight": 0.4,
  "date":"2011-05-02",
  "title": "Climate finance for the world's poorest",
  "description": "Developed countries have promised to provide $100bn /yr by 2020 to support developing countries fighting climate change impacts. ",
  "recommendation": 1,
},
{
  "id": "B7-0522/2011 - Resolution",
  "dbid": 2189,
  "weight": 0.6,
  "date":"2011-05-03",
  "title": "Developing a common EU position ahead of the United Nations Conference on Sustainable Development (Rio+20)",
  "description": "Climate change will disproportionately impact the world's poorest, so it is essential that climate change considerations are integrated in development policy.",
  "recommendation": 1,
},
{
  "id": "B7-0141/2009/rev1 - Copenhagen Summit - resolution",
  "dbid": 220,
  "weight": 0.9,
  "date":"2009-05-02",
  "title": "The EU strategy for the Copenhagen Conference on Climate Change (COP 15)",
  "description": "A global agreement at Copenhagen in 2009 would have been a big step in the right direction. These hopes ultimately floundered with a weak agreement. The EU position ahead of the conference was important groundwork.",
  "recommendation": 1,
}
];

var card=scoreCard ();

</script>

<div data-role="page" class="jqm-demos" data-quicklinks="false" id="meps">

	<div data-role="header" class="jqm-header"  onclick="document.location.href='index.html'" style="cursor:pointer">
	<h2>
		<img alt="" id="logo" />
		<p>Scoring the European Parliament – <strong>score-ep.org</strong></p>
	</h2>
	</div>

	<div role="main" class="ui-content jqm-content">
		<h1 class="starthead">Your title goes here</h1>
		<p><b>Click on the graphs to filter the Members of the European parliament by country or party</b></p>

			<div id="ep2014list">
			<div class="group"></div>
			<div class="country"></div>
			<div class="gender"></div>
			<div class="age"></div>
			<div class="bar_score"></div>
			<div class="party"></div>
			<div class="list"></div>
			<div style="clear:both;">
			<div class="dc-data-count">
			<span class="filter-count"></span> selected out of <span class="total-count"></span> MEPs | <a
			href="javascript:dc.filterAll(); dc.renderAll();">Reset All</a>
			</div>
			</div>
			<div class="nokparty">
			</div>
			<div class="dc-data-grid">
			</div>
			</div>

			<div data-role="popup" id="infobox" class="ui-content">
			<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
			<div class="ui-content">Photo goes here!</div>
			<div class ="ui-content">Flag goes here!</div>
			<div class = "ui-content">Score goes here!</div>
			<div class = "returning ui-content">Returning candidate?</div>
			<div class="ui-grid-a my-breakpoint">
			  <div class="ui-block-a ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-b ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-a ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-b ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-a ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-b ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-a ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-b ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-a ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse ui-content gas reduction targets of at least -55% by 2030.</div>
			  <div class="ui-block-b ui-content">To keep the world from warming more than 2C, climate science and effort-sharing models recommend the EU should have greenhouse gas reduction targets of at least -55% by 2030.</div>
			</div><!-- /votes grid -->
			</div>
	</div>
</div>

<script>
var meps = [];
var mepvotes = [];

$(function() {
  var _grid = _.after(2, function () {
    card.grid ("#ep2014list");
  });

    d3.csv("mep.csv", function(d) {return d;}
      ,function(error, rows) {
        meps = rows;
        _grid ();
      });      

    d3.csv("votes_climate.csv", function(d) {return d;}
      ,function(error, rows) {
        card.vote.setRollCall (rows);
        _grid ();
      });      

$( "#infobox" ).popup();


});      
</script>

<script>
$onclick()
</script>

</body>
</html>
